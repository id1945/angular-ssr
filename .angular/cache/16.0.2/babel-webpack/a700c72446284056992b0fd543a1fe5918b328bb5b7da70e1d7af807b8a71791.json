{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../shared/book-store.service\";\nimport * as i2 from \"@angular/router\";\nfunction BookDetailsComponent_div_0_p_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 9);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const book_r1 = i0.ɵɵnextContext().ngIf;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(book_r1.subtitle);\n  }\n}\nfunction BookDetailsComponent_div_0_li_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const author_r8 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(author_r8);\n  }\n}\nfunction BookDetailsComponent_div_0_div_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"h2\");\n    i0.ɵɵtext(2, \"Published\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3);\n    i0.ɵɵpipe(4, \"date\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const book_r1 = i0.ɵɵnextContext().ngIf;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(4, 1, book_r1.published, \"longDate\"), \" \");\n  }\n}\nfunction BookDetailsComponent_div_0_img_20_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"img\", 10);\n  }\n  if (rf & 2) {\n    const book_r1 = i0.ɵɵnextContext().ngIf;\n    i0.ɵɵproperty(\"src\", book_r1.thumbnailUrl, i0.ɵɵsanitizeUrl);\n  }\n}\nconst _c0 = function (a1) {\n  return [\"/admin/edit\", a1];\n};\nfunction BookDetailsComponent_div_0_ng_container_23_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r13 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"button\", 11);\n    i0.ɵɵlistener(\"confirm\", function BookDetailsComponent_div_0_ng_container_23_Template_button_confirm_1_listener() {\n      i0.ɵɵrestoreView(_r13);\n      const book_r1 = i0.ɵɵnextContext().ngIf;\n      const ctx_r11 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r11.removeBook(book_r1.isbn));\n    });\n    i0.ɵɵtext(2, \" Remove book \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"a\", 12);\n    i0.ɵɵtext(4, \" Edit book \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const book_r1 = i0.ɵɵnextContext().ngIf;\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(1, _c0, book_r1.isbn));\n  }\n}\nfunction BookDetailsComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 1)(1, \"h1\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(3, BookDetailsComponent_div_0_p_3_Template, 2, 1, \"p\", 2);\n    i0.ɵɵelementStart(4, \"div\", 3)(5, \"div\")(6, \"h2\");\n    i0.ɵɵtext(7, \"Authors\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"ul\");\n    i0.ɵɵtemplate(9, BookDetailsComponent_div_0_li_9_Template, 2, 1, \"li\", 4);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(10, \"div\")(11, \"h2\");\n    i0.ɵɵtext(12, \"ISBN\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(13);\n    i0.ɵɵpipe(14, \"isbn\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(15, BookDetailsComponent_div_0_div_15_Template, 5, 4, \"div\", 5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"h2\");\n    i0.ɵɵtext(17, \"Description\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"p\");\n    i0.ɵɵtext(19);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(20, BookDetailsComponent_div_0_img_20_Template, 1, 1, \"img\", 6);\n    i0.ɵɵelementStart(21, \"a\", 7);\n    i0.ɵɵtext(22, \"Back to list\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(23, BookDetailsComponent_div_0_ng_container_23_Template, 5, 3, \"ng-container\", 8);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const book_r1 = ctx.ngIf;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(book_r1.title);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", book_r1.subtitle);\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngForOf\", book_r1.authors);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(14, 7, book_r1.isbn), \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", book_r1.published);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(book_r1.description);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", book_r1.thumbnailUrl);\n  }\n}\nclass BookDetailsComponent {\n  constructor(service, route, router) {\n    this.service = service;\n    this.route = route;\n    this.router = router;\n    const isbn = this.route.snapshot.paramMap.get('isbn');\n    this.book$ = this.service.getSingle(isbn);\n  }\n  removeBook(isbn) {\n    this.service.remove(isbn).subscribe(() => {\n      this.router.navigateByUrl('/books');\n    });\n  }\n}\nBookDetailsComponent.ɵfac = function BookDetailsComponent_Factory(t) {\n  return new (t || BookDetailsComponent)(i0.ɵɵdirectiveInject(i1.BookStoreService), i0.ɵɵdirectiveInject(i2.ActivatedRoute), i0.ɵɵdirectiveInject(i2.Router));\n};\nBookDetailsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: BookDetailsComponent,\n  selectors: [[\"bm-book-details\"]],\n  decls: 2,\n  vars: 3,\n  consts: [[\"class\", \"details\", 4, \"ngIf\"], [1, \"details\"], [\"role\", \"doc-subtitle\", 4, \"ngIf\"], [1, \"header\"], [4, \"ngFor\", \"ngForOf\"], [4, \"ngIf\"], [\"alt\", \"Cover\", 3, \"src\", 4, \"ngIf\"], [\"routerLink\", \"..\", 1, \"button\", \"arrow-left\"], [4, \"bmLoggedinOnly\"], [\"role\", \"doc-subtitle\"], [\"alt\", \"Cover\", 3, \"src\"], [\"bmConfirm\", \"Remove book?\", 1, \"red\", 3, \"confirm\"], [1, \"button\", 3, \"routerLink\"]],\n  template: function BookDetailsComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, BookDetailsComponent_div_0_Template, 24, 9, \"div\", 0);\n      i0.ɵɵpipe(1, \"async\");\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(1, 1, ctx.book$));\n    }\n  },\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});\nexport { BookDetailsComponent };","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate","book_r1","subtitle","author_r8","ɵɵtextInterpolate1","ɵɵpipeBind2","published","ɵɵelement","ɵɵproperty","thumbnailUrl","ɵɵsanitizeUrl","ɵɵelementContainerStart","ɵɵlistener","BookDetailsComponent_div_0_ng_container_23_Template_button_confirm_1_listener","ɵɵrestoreView","_r13","ɵɵnextContext","ngIf","ctx_r11","ɵɵresetView","removeBook","isbn","ɵɵelementContainerEnd","ɵɵpureFunction1","_c0","ɵɵtemplate","BookDetailsComponent_div_0_p_3_Template","BookDetailsComponent_div_0_li_9_Template","BookDetailsComponent_div_0_div_15_Template","BookDetailsComponent_div_0_img_20_Template","BookDetailsComponent_div_0_ng_container_23_Template","title","authors","ɵɵpipeBind1","description","BookDetailsComponent","constructor","service","route","router","snapshot","paramMap","get","book$","getSingle","remove","subscribe","navigateByUrl","ɵɵdirectiveInject","i1","BookStoreService","i2","ActivatedRoute","Router","selectors","decls","vars","consts","template","BookDetailsComponent_Template","rf","ctx","BookDetailsComponent_div_0_Template"],"sources":["C:\\Users\\duong\\Downloads\\16f-ssr\\src\\app\\books\\book-details\\book-details.component.ts","C:\\Users\\duong\\Downloads\\16f-ssr\\src\\app\\books\\book-details\\book-details.component.html"],"sourcesContent":["import { Component } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport { BookStoreService } from '../../shared/book-store.service';\r\nimport { Book } from '../../shared/book';\r\n\r\n@Component({\r\n  selector: 'bm-book-details',\r\n  templateUrl: './book-details.component.html',\r\n  styleUrls: ['./book-details.component.css']\r\n})\r\nexport class BookDetailsComponent {\r\n  book$: Observable<Book>;\r\n\r\n  constructor(\r\n    private service: BookStoreService,\r\n    private route: ActivatedRoute,\r\n    private router: Router\r\n  ) {\r\n    const isbn = this.route.snapshot.paramMap.get('isbn')!;\r\n    this.book$ = this.service.getSingle(isbn);\r\n  }\r\n\r\n  removeBook(isbn: string) {\r\n    this.service.remove(isbn).subscribe(() => {\r\n      this.router.navigateByUrl('/books');\r\n    });\r\n  }\r\n}\r\n","<div class=\"details\" *ngIf=\"book$ | async as book\">\r\n  <h1>{{ book.title }}</h1>\r\n  <p role=\"doc-subtitle\" *ngIf=\"book.subtitle\">{{ book.subtitle }}</p>\r\n  <div class=\"header\">\r\n    <div>\r\n      <h2>Authors</h2>\r\n      <ul>\r\n        <li *ngFor=\"let author of book.authors\">{{ author }}</li>\r\n      </ul>\r\n    </div>\r\n    <div>\r\n      <h2>ISBN</h2>\r\n      {{ book.isbn | isbn }}\r\n    </div>\r\n    <div *ngIf=\"book.published\">\r\n      <h2>Published</h2>\r\n      {{ book.published | date:'longDate' }}\r\n    </div>\r\n  </div>\r\n  <h2>Description</h2>\r\n  <p>{{ book.description }}</p>\r\n  <img *ngIf=\"book.thumbnailUrl\"\r\n    [src]=\"book.thumbnailUrl\"\r\n    alt=\"Cover\">\r\n  <a class=\"button arrow-left\" routerLink=\"..\">Back to list</a>\r\n  <ng-container *bmLoggedinOnly>\r\n    <button class=\"red\" bmConfirm=\"Remove book?\" (confirm)=\"removeBook(book.isbn)\">\r\n      Remove book\r\n    </button>\r\n    <a class=\"button\"\r\n      [routerLink]=\"['/admin/edit', book.isbn]\">\r\n      Edit book\r\n    </a>\r\n  </ng-container>\r\n</div>\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}