{"ast":null,"code":"import { map, switchMap } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../shared/book-store.service\";\nimport * as i2 from \"@angular/router\";\nfunction BookEditComponent_bm_book_form_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"bm-book-form\", 1);\n    i0.ɵɵlistener(\"submitBook\", function BookEditComponent_bm_book_form_2_Template_bm_book_form_submitBook_0_listener($event) {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.update($event));\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const book_r1 = ctx.ngIf;\n    i0.ɵɵproperty(\"book\", book_r1);\n  }\n}\nclass BookEditComponent {\n  constructor(service, route, router) {\n    this.service = service;\n    this.route = route;\n    this.router = router;\n    this.book$ = this.route.paramMap.pipe(map(params => params.get('isbn')), switchMap(isbn => this.service.getSingle(isbn)));\n  }\n  update(book) {\n    this.service.update(book).subscribe(updatedBook => {\n      this.router.navigate(['/books', updatedBook.isbn]);\n    });\n  }\n}\nBookEditComponent.ɵfac = function BookEditComponent_Factory(t) {\n  return new (t || BookEditComponent)(i0.ɵɵdirectiveInject(i1.BookStoreService), i0.ɵɵdirectiveInject(i2.ActivatedRoute), i0.ɵɵdirectiveInject(i2.Router));\n};\nBookEditComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: BookEditComponent,\n  selectors: [[\"bm-book-edit\"]],\n  decls: 4,\n  vars: 3,\n  consts: [[3, \"book\", \"submitBook\", 4, \"ngIf\"], [3, \"book\", \"submitBook\"]],\n  template: function BookEditComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"h1\");\n      i0.ɵɵtext(1, \"Edit Book\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(2, BookEditComponent_bm_book_form_2_Template, 1, 1, \"bm-book-form\", 0);\n      i0.ɵɵpipe(3, \"async\");\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(3, 1, ctx.book$));\n    }\n  },\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});\nexport { BookEditComponent };","map":{"version":3,"names":["map","switchMap","i0","ɵɵelementStart","ɵɵlistener","BookEditComponent_bm_book_form_2_Template_bm_book_form_submitBook_0_listener","$event","ɵɵrestoreView","_r3","ctx_r2","ɵɵnextContext","ɵɵresetView","update","ɵɵelementEnd","ɵɵproperty","book_r1","BookEditComponent","constructor","service","route","router","book$","paramMap","pipe","params","get","isbn","getSingle","book","subscribe","updatedBook","navigate","ɵɵdirectiveInject","i1","BookStoreService","i2","ActivatedRoute","Router","selectors","decls","vars","consts","template","BookEditComponent_Template","rf","ctx","ɵɵtext","ɵɵtemplate","BookEditComponent_bm_book_form_2_Template","ɵɵadvance","ɵɵpipeBind1"],"sources":["C:\\Users\\duong\\Downloads\\16f-ssr\\src\\app\\admin\\book-edit\\book-edit.component.ts","C:\\Users\\duong\\Downloads\\16f-ssr\\src\\app\\admin\\book-edit\\book-edit.component.html"],"sourcesContent":["import { Component } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { map, Observable, switchMap } from 'rxjs';\r\n\r\nimport { Book } from '../../shared/book';\r\nimport { BookStoreService } from '../../shared/book-store.service';\r\n\r\n@Component({\r\n  selector: 'bm-book-edit',\r\n  templateUrl: './book-edit.component.html',\r\n  styleUrls: ['./book-edit.component.css']\r\n})\r\nexport class BookEditComponent {\r\n  book$: Observable<Book>;\r\n\r\n  constructor(\r\n    private service: BookStoreService,\r\n    private route: ActivatedRoute,\r\n    private router: Router\r\n  ) {\r\n    this.book$ = this.route.paramMap.pipe(\r\n      map(params => params.get('isbn')!),\r\n      switchMap(isbn => this.service.getSingle(isbn))\r\n    );\r\n  }\r\n\r\n  update(book: Book) {\r\n    this.service.update(book).subscribe(updatedBook => {\r\n      this.router.navigate(['/books', updatedBook.isbn]);\r\n    });\r\n  }\r\n}\r\n","<h1>Edit Book</h1>\r\n\r\n<bm-book-form *ngIf=\"book$ | async as book\" [book]=\"book\" (submitBook)=\"update($event)\"></bm-book-form>\r\n"],"mappings":"AAEA,SAASA,GAAG,EAAcC,SAAS,QAAQ,MAAM;;;;;;;ICAjDC,EAAA,CAAAC,cAAA,sBAAwF;IAA9BD,EAAA,CAAAE,UAAA,wBAAAC,6EAAAC,MAAA;MAAAJ,EAAA,CAAAK,aAAA,CAAAC,GAAA;MAAA,MAAAC,MAAA,GAAAP,EAAA,CAAAQ,aAAA;MAAA,OAAcR,EAAA,CAAAS,WAAA,CAAAF,MAAA,CAAAG,MAAA,CAAAN,MAAA,CAAc;IAAA,EAAC;IAACJ,EAAA,CAAAW,YAAA,EAAe;;;;IAA3DX,EAAA,CAAAY,UAAA,SAAAC,OAAA,CAAa;;;ADKzD,MAKaC,iBAAiB;EAG5BC,YACUC,OAAyB,EACzBC,KAAqB,EACrBC,MAAc;IAFd,KAAAF,OAAO,GAAPA,OAAO;IACP,KAAAC,KAAK,GAALA,KAAK;IACL,KAAAC,MAAM,GAANA,MAAM;IAEd,IAAI,CAACC,KAAK,GAAG,IAAI,CAACF,KAAK,CAACG,QAAQ,CAACC,IAAI,CACnCvB,GAAG,CAACwB,MAAM,IAAIA,MAAM,CAACC,GAAG,CAAC,MAAM,CAAE,CAAC,EAClCxB,SAAS,CAACyB,IAAI,IAAI,IAAI,CAACR,OAAO,CAACS,SAAS,CAACD,IAAI,CAAC,CAAC,CAChD;EACH;EAEAd,MAAMA,CAACgB,IAAU;IACf,IAAI,CAACV,OAAO,CAACN,MAAM,CAACgB,IAAI,CAAC,CAACC,SAAS,CAACC,WAAW,IAAG;MAChD,IAAI,CAACV,MAAM,CAACW,QAAQ,CAAC,CAAC,QAAQ,EAAED,WAAW,CAACJ,IAAI,CAAC,CAAC;IACpD,CAAC,CAAC;EACJ;;AAlBWV,iBAAiB,C;mBAAjBA,iBAAiB,EAAAd,EAAA,CAAA8B,iBAAA,CAAAC,EAAA,CAAAC,gBAAA,GAAAhC,EAAA,CAAA8B,iBAAA,CAAAG,EAAA,CAAAC,cAAA,GAAAlC,EAAA,CAAA8B,iBAAA,CAAAG,EAAA,CAAAE,MAAA;AAAA;AAAjBrB,iBAAiB,C;QAAjBA,iBAAiB;EAAAsB,SAAA;EAAAC,KAAA;EAAAC,IAAA;EAAAC,MAAA;EAAAC,QAAA,WAAAC,2BAAAC,EAAA,EAAAC,GAAA;IAAA,IAAAD,EAAA;MCZ9B1C,EAAA,CAAAC,cAAA,SAAI;MAAAD,EAAA,CAAA4C,MAAA,gBAAS;MAAA5C,EAAA,CAAAW,YAAA,EAAK;MAElBX,EAAA,CAAA6C,UAAA,IAAAC,yCAAA,0BAAuG;;;;MAAxF9C,EAAA,CAAA+C,SAAA,GAAoB;MAApB/C,EAAA,CAAAY,UAAA,SAAAZ,EAAA,CAAAgD,WAAA,OAAAL,GAAA,CAAAxB,KAAA,EAAoB;;;;;SDUtBL,iBAAiB"},"metadata":{},"sourceType":"module","externalDependencies":[]}